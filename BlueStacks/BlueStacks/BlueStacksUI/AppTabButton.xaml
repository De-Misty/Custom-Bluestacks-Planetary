<controls:Button
	x:Class="BlueStacks.BlueStacksUI.AppTabButton"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:local="clr-namespace:BlueStacks.BlueStacksUI"
	xmlns:Common="clr-namespace:BlueStacks.Common;assembly=HD-Common"
	xmlns:Themes="clr-namespace:Microsoft.Windows.Themes;assembly=PresentationFramework.Aero"
	Background="#00FFFFFF"
	MaxHeight="38"
	MinHeight="38"
	Margin="8,0,0,0"
	MaxWidth="200"
	Style="{DynamicResource ButtonStyle1}"
	Focusable="False"
	xmlns:controls="clr-namespace:System.Windows.Controls;assembly=PresentationFramework"
	DataContext="{Binding Source='{x:Static Common:BlueStacksUIBinding.Instance}'}"
	Click="Button_Click"
	MouseEnter="Button_MouseEnter"
	MouseLeave="Button_MouseLeave"
	PreviewMouseDown="Button_PreviewMouseDown"
	IsEnabledChanged="Button_IsEnabledChanged">
	<FrameworkElement.Resources>
		<ResourceDictionary>
			<Style
				x:Key="ButtonStyle1"
				TargetType="{x:Type Button}">
				<Setter
					Property="BorderThickness"
					Value="0" />
				<Setter
					Property="HorizontalContentAlignment"
					Value="Center" />
				<Setter
					Property="VerticalContentAlignment"
					Value="Center" />
				<Setter
					Property="Padding"
					Value="0" />
				<Setter
					Property="Template">
					<Setter.Value>
						<ControlTemplate
							TargetType="{x:Type Button}">
							<ContentPresenter
								HorizontalAlignment="{TemplateBinding Control.HorizontalContentAlignment}"
								Margin="{TemplateBinding Control.Padding}"
								RecognizesAccessKey="True"
								SnapsToDevicePixels="{TemplateBinding UIElement.SnapsToDevicePixels}"
								VerticalAlignment="{TemplateBinding Control.VerticalContentAlignment}" />
						</ControlTemplate>
					</Setter.Value>
				</Setter>
			</Style>
		</ResourceDictionary>
	</FrameworkElement.Resources>
	<Grid>
		<Grid
			x:Name="ParallelogramGrid"
			RenderTransform="{Binding Path=TransformModel.[TabTransform]}">
			<Border
				x:Name="mBorder"
				BorderThickness="1,1,1,0"
				Background="{Binding Path=ColorModel.[TabBackgroundColor]}"
				CornerRadius="{Binding Path=CornerRadiusModel.[TabRadius]}"
				BorderBrush="{Binding Path=ColorModel.[AppTabBorderBrush]}" />
		</Grid>
		<Grid>
			<Grid.ColumnDefinitions>
				<ColumnDefinition
					Width="1" />
				<ColumnDefinition
					x:Name="mImageColumn"
					Width="38" />
				<ColumnDefinition
					Width="*" />
			</Grid.ColumnDefinitions>
			<Common:CustomPictureBox
				x:Name="mAppTabIcon"
				Grid.Column="1"
				HorizontalAlignment="Left"
				Margin="5"
				ImageName="home" />
			<Label
				x:Name="mTabLabel"
				FontSize="16"
				Grid.Column="2"
				HorizontalAlignment="Left"
				Margin="3,1,5,1"
				VerticalAlignment="Center"
				Width="1000"
				Foreground="{Binding Path=ColorModel.[SelectedTabForegroundColor]}"
				Content="{Binding Path=LocaleModel.[STRING_HOME], FallbackValue=Home}" />
			<Common:CustomPictureBox
				x:Name="CloseTabButtonPortrait"
				Grid.Column="1"
				Grid.ColumnSpan="2"
				HorizontalAlignment="Right"
				Visibility="Hidden"
				Width="15"
				Height="15"
				Margin="0,1,1,0"
				VerticalAlignment="Top"
				ImageName="tabclose" />
			<Common:CustomPictureBox
				x:Name="CloseTabButtonLandScape"
				Grid.Column="1"
				Grid.ColumnSpan="2"
				HorizontalAlignment="Right"
				Visibility="Hidden"
				Width="15"
				Height="15"
				Margin="0,1,1,0"
				VerticalAlignment="Top"
				ImageName="tabclose" />
			<Common:CustomPictureBox
				x:Name="CloseTabButtonDropDown"
				Grid.Column="1"
				Grid.ColumnSpan="2"
				HorizontalAlignment="Right"
				Visibility="Hidden"
				Width="15"
				Height="15"
				Margin="0,1,1,0"
				VerticalAlignment="Top"
				ImageName="tabclose" />
			<Grid
				x:Name="mDownArrowGrid"
				Column="2"
				HorizontalAlignment="Right"
				Visibility="Collapsed">
				<Path
					x:Name="Arrow"
					Data="M0,0 L5,8 L10,0 Z"
					Margin="0,0,5,0"
					VerticalAlignment="Center"
					Fill="{Binding Path=ColorModel.[SelectedTabBackgroundColor]}" />
			</Grid>
		</Grid>
	</Grid>
</controls:Button>
